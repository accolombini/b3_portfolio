# =============================================================================
# B3_Portfolio - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill with your actual values
# Never commit .env to version control!

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/portfolio_db
DATABASE_TEST_URL=postgresql://postgres:postgres@localhost:5432/portfolio_test_db

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_TEST_URL=redis://localhost:6379/1

# =============================================================================
# JWT Authentication
# =============================================================================
# Generate a secure key with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-key-change-in-production-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# API Keys (Optional - only if using paid services)
# =============================================================================
# ALPHAVANTAGE_API_KEY=your-api-key-here
# QUANDL_API_KEY=your-api-key-here

# =============================================================================
# Application Environment
# =============================================================================
ENVIRONMENT=development  # development | staging | production
DEBUG=true
APP_NAME=B3_Portfolio
APP_VERSION=1.0.0

# =============================================================================
# Celery Configuration
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_ALWAYS_EAGER=false  # Set to true for testing (synchronous execution)

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_FORMAT=json  # json | text
LOG_FILE=logs/app.log

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# External Data Sources
# =============================================================================
# yfinance doesn't require API key, but has rate limits
YFINANCE_MAX_RETRIES=3
YFINANCE_TIMEOUT=10

# CVM (Comissão de Valores Mobiliários)
CVM_BASE_URL=https://dados.cvm.gov.br/dados

# Tesouro Direto
TESOURO_BASE_URL=https://www.tesourodireto.com.br

# B3 (Brasil, Bolsa, Balcão)
B3_BASE_URL=http://www.b3.com.br

# =============================================================================
# Monte Carlo Simulation Parameters
# =============================================================================
MONTE_CARLO_ITERATIONS=10000
MONTE_CARLO_CONFIDENCE_LEVELS=0.95,0.99
MONTE_CARLO_PROJECTION_YEARS=2

# =============================================================================
# Portfolio Analysis Parameters
# =============================================================================
HISTORICAL_DATA_YEARS=5
RISK_FREE_RATE=0.0  # Will be fetched from Banco Central (SELIC)
BENCHMARK_TICKER=^BVSP  # IBOVESPA

# =============================================================================
# Scanning Service Parameters
# =============================================================================
SCAN_FREQUENCY_HOURS=24
SCAN_MIN_LIQUIDITY=1000000
SCAN_MAX_SUGGESTIONS=3
SCAN_SECTORS=energia,financeiro,tecnologia,saude

# =============================================================================
# Reporting Service
# =============================================================================
REPORTS_OUTPUT_DIR=reports/
REPORTS_FORMATS=json,csv,pdf
REPORTS_MAX_AGE_DAYS=90

# =============================================================================
# Security Settings
# =============================================================================
# Session
SESSION_SECRET_KEY=another-super-secret-key-for-sessions
SESSION_MAX_AGE_SECONDS=3600

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# =============================================================================
# Performance & Optimization
# =============================================================================
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
REDIS_CACHE_TTL=3600  # 1 hour in seconds

# =============================================================================
# Email Configuration (Optional - for notifications)
# =============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@b3portfolio.com

# =============================================================================
# Sentry (Error Tracking - Optional)
# =============================================================================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# End of Configuration
# =============================================================================
